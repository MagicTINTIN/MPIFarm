\begin{lstlisting}[language=Python, style=jupycolors]
def createSet(xmin, xmax, ymin, ymax, resolution):
    xy = []
    for yi in range(resolution + 1):
        yivals = []
        yval = ymin + yi * (ymax - ymin) / resolution
        for xi in range(resolution + 1):
            xval = xmin + xi * (xmax - xmin) / resolution
            yivals.append([xval, yval])
        xy.append(yivals)
    return xy

def getAllFromQuasiNewton(f, xy, rooteps):
    sols = []
    totalsteps = 0
    numberofpoints = 0
    # print("Before newton")
    # printcoords(xy)
    for i in range(len(xy)):
        for j in range(len(xy[i])):
            newsol, steps = QuasiNewton(f, xy[i][j], 1e-8)
            totalsteps += steps
            numberofpoints += 1
            if not isinstance(newsol, bool):
                xy[i][j] = newsol.tolist()
                found=False
                for s in sols:
                    if abs(s[0] - newsol[0]) < rooteps and abs(s[1] - newsol[1]) < rooteps:
                        found=True
                if not found:
                    sols.append(newsol.tolist())
                    #print("NEW : ", sols)
    # print("After newton")
    # printcoords(xy)
    print("Average number of steps per point:", totalsteps/numberofpoints)
    return sols
            

def printcoords(xy):
    print("[")
    for y in xy:
        for x in y:
            print(x, end=", ")
        print("")
    print("]")


xy = createSet(-10, 10, -10, 10, 4)
printPoints(xy)
\end{lstlisting}